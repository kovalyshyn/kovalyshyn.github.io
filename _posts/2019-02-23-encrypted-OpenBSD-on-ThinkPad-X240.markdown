---
layout: post
title: "–í—Å—Ç–∞–Ω–æ–≤–ª—é—é OpenBSD –Ω–∞ ThinkPad X240 –∑ —à–∏—Ñ—Ä—É–≤–∞–Ω–Ω—è–º —Ñ–∞–π–ª–æ–≤–æ—ó —Å–∏—Å—Ç–µ–º–∏"
subtitle: "–í–ª–∞—Å–Ω–∏–π –¥–æ—Å–≤—ñ–¥ –±–µ–∑–ø–µ—á–Ω–æ–≥–æ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è —Å–∏—Å—Ç–µ–º–∏ –Ω–∞ X240 üòú"
date: 2019-02-23 17:14:14
categories: [bsd]
---

–Ø –≤–∂–µ [—Ä–æ–∑–ø–æ–≤—ñ–¥–∞–≤]({{ site.baseurl }}{% post_url 2019-02-09-OpenBSD-on-a-laptop %}), —â–æ –∑–¥—ñ–π—Å–Ω–∏–≤ –ø–µ—Ä–µ—Ö—ñ–¥ –Ω–∞ `OpenBSD`. –Ø –π –Ω–∞–¥–∞–ª—ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é [Arch Linux]({{ site.baseurl }}{% post_url 2019-01-06-ArchLinux-USB-with-encrypted-root %}) –Ω–∞ —Ä–æ–±–æ—Ç—ñ (—É—Å–µ —á–µ—Ä–µ–∑ —Å–ø–µ—Ü–∏—Ñ—ñ—á–Ω–µ –ü–ó), –∞–ª–µ –≤–ª–∞—Å–Ω–∏–π –Ω–æ—É—Ç —Ç–µ–ø–µ—Ä —Ç—ñ—à–∏—Ç—å –º–µ–Ω–µ BSD —Å–∏—Å—Ç–µ–º–æ—é.

–Ø–∫—â–æ –≤–∏ –Ω–µ –∑–Ω–∞—î—Ç–µ, —Ç–æ BSD —Å–∏—Å—Ç–µ–º–∏ (–∞ —ó—Ö —î –∫—ñ–ª—å–∫–∞ —Å—å–æ–≥–æ–¥–Ω—ñ), –Ω–∞ –≤—ñ–¥–º—ñ–Ω—É –≤—ñ–¥ Linux, —î –ø–æ–≤–Ω–æ—Ü—ñ–Ω–Ω–∏–º–∏ –æ–ø–µ—Ä–∞—Ü—ñ–π–Ω–∏–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏, –∞ –Ω–µ –ª–∏—à–µ —è–¥—Ä–æ–º + GNU —É—Ç–∏–ª—ñ—Ç–∏. –¢–æ–∂ –º–æ—è —Ü—ñ–ª—å –±—É–ª–∞ –≤—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –º—ñ–Ω—ñ–º–∞–ª—å–Ω—É —Å–∏—Å—Ç–µ–º—É, –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –±–∞–∑–æ–≤—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏ —Ç–∞... –ü—Ä–∏—î–¥–Ω–∞—Ç–∏—Å—å –¥–æ [—Ç–µ–º–Ω–æ—ó —Å—Ç–æ—Ä–æ–Ω–∏ —Å–∏–ª–∏][OpenBSD]. –Ø –∑–Ω–∞—é, —â–æ –±—ñ–ª—å—à—ñ—Å—Ç—å —Ä–æ–∑–≥–ª—è–¥–∞—î `BSD`, —è–∫ —á—É–¥–æ–≤–∏–π –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä —á–∏ –ø–æ—à—Ç–æ–≤–∏–π —Å–µ—Ä–≤–µ—Ä, –∞ —è —Å–ø—Ä–æ–±—É—é —Ä–æ–∑–≥–ª—è–Ω—É—Ç–∏ —è–∫ –æ–ø–µ—Ä–∞—Ü—ñ–π–Ω—É —Å–∏—Å—Ç–µ–º—É –¥–ª—è —â–æ–¥–µ–Ω–Ω–∏—Ö –∑–∞–¥–∞—á –Ω–∞ `ThinkPad X240`.

# –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è

–ù–µ –∑–ª—É–∫–∞–≤–ª—é, —è–∫—â–æ —Å–∫–∞–∂—É, —â–æ –≤ OpenBSD –æ–¥–∏–Ω —ñ–∑ –Ω–∞–π–ø—Ä–æ—Å—Ç—ñ—à–∏—Ö –ø—Ä–æ—Ü–µ—Å—ñ–≤ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –∑ —É—Å—å–æ–≥–æ —Å—ñ–º–µ–π—Å—Ç–≤–∞ BSD —Å–∏—Å—Ç–µ–º. –ü—Ä–æ—Å—Ç–æ –∑–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ –æ–±—Ä–∞–∑:

    curl -OJ https://cdn.openbsd.org/pub/OpenBSD/6.4/amd64/install64.fs

–¢–∞ –∑–∞–ø–∏—à—ñ—Ç—å –Ω–∞ USB –¥–∏—Å–∫:

    dd if=install64.fs of=/dev/sdb bs=1m

–û–±–µ—Ä—ñ—Ç—å –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∑ USB —Ç–∞ –π –≤–ø–µ—Ä–µ–¥!

## –ü–æ–≤–Ω–µ —à–∏—Ñ—Ä—É–≤–∞–Ω–Ω—è –¥–∏—Å–∫—É

[–ú–æ—è](–ú–æ—è) —Ü—ñ–ª—å - –±—É—Ç–∏ –ø–µ–≤–Ω–∏–º, —â–æ –Ω–∞–≤—ñ—Ç—å —è–∫—â–æ —è –≤—Ç—Ä–∞—á—É —Ü–µ–π –Ω–æ—É—Ç, —Ç–æ –º–æ—ó –¥–∞–Ω–Ω—ñ –±—É–¥—É—Ç—å –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ñ. –©–æ–± –≤—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ —Å–∏—Å—Ç–µ–º—É –Ω–∞ –ø–æ–≤–Ω—ñ—Å—Ç—é –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–π –¥–∏—Å–∫, –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ –æ–±—Ä–∞—Ç–∏ –ø—É–Ω–∫—Ç `(S)hell` —Ç–∞ —Å—Ç–≤–æ—Ä–∏—Ç–∏ –ø—Ä–æ–≥—Ä–∞–º–Ω–∏–π RAID –∑ —à–∏—Ñ—Ä—É–≤–∞–Ω–Ω—è–º.

–°—Ç–≤–æ—Ä—é—î–º–æ –Ω–æ–≤–∏–π EFI —Ä–æ–∑–¥—ñ–ª:

    fdisk -iy -g -b 960 sd0

–ê —Ç–µ–ø–µ—Ä –º–æ–∂–µ–º–æ –π [RAID][softraid] –æ—Ä–≥–∞–Ω—ñ–∑—É–≤–∞—Ç–∏:

    disklabel -E sd0
    Label editor (enter '?' for help at any prompt)
    > a a
    offset: [1024]
    size: [500117105]
    FS type: [4.2BSD] RAID
    > w
    > q
    No label changes.

–ü–µ—Ä–µ—Ö–æ–¥–∏–º–æ –¥–æ —à–∏—Ñ—Ä—É–≤–∞–Ω–Ω—è –Ω–∞—à–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º–Ω–æ–≥–æ RAID:

    bioctl -c C -l sd0a softraid0

–ü—ñ—Å–ª—è –≤–≤–µ–¥–µ–Ω–Ω—è –ø–∞—Ä–æ–ª—é, –≤–∏ –º–∞—î—Ç–µ –ø–æ–±–∞—á–∏—Ç–∏ –Ω–∞–ø–∏—Å:

    CRYPTO volume attached as sd2.

–¢–µ–ø–µ—Ä –º–æ–∂–µ–º–æ —Å–ø–æ–∫—ñ–π–Ω–æ –≤–∏—Ö–æ–¥–∏—Ç–∏ —ñ–∑ –∫–æ–Ω—Å–æ–ª—ñ `exit` —Ç–∞ –æ–±–∏—Ä–∞—Ç–∏ `(I)nstall`.

## OpenBSD

–Ü–Ω—Å—Ç–∞–ª—è—Ç–æ—Ä –∑–∞–¥–∞–≤ –º–µ–Ω—ñ –∫—ñ–ª—å–∫–∞ –∑–∞–ø–∏—Ç–∞–Ω—å: —Ä–æ–∑–∫–ª–∞–¥–∫–∞, –Ω–∞–∑–≤–∞ —Ö–æ—Å—Ç–∞, –ø–∞—Ä–æ–ª—å –¥–ª—è root —Ç–∞ —ñ–Ω—à–µ. –ú–æ–∂–ª–∏–≤–æ, —Å–∏—Å—Ç–µ–º–∞ –Ω–µ —Ä–æ–∑–ø—ñ–∑–Ω–∞—î –≤–∞—à—É wifi –∫–∞—Ä—Ç—É, —Ç–æ–º—É –∫—Ä–∞—â–µ –≤—Å—Ç–∞–Ω–æ–≤–ª—é–≤–∞—Ç–∏ —á–µ—Ä–µ–∑ –∑–≤–∏—á–∞–π–Ω—É –ø—Ä–æ–≤—ñ–¥–Ω—É –º–µ—Ä–µ–∂—É, —â–æ —è –π —Ä–æ–±–∏–≤.

–û—Å–∫—ñ–ª—å–∫–∏ —è –≤—Å—Ç–∞–Ω–æ–≤–ª—é—é —Ü–µ –≤—Å–µ –Ω–∞ –Ω–æ—É—Ç–±—É–∫, —Ç–æ –º–µ–Ω—ñ –±—É–¥–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ –≥—Ä–∞—Ñ—ñ—á–Ω–µ —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ - –Ω–µ –∑–∞–±—É–≤–∞—î–º–æ –∞–∫—Ç–∏–≤—É–≤–∞—Ç–∏ [xenodm][xenodm] —Ç–∞ –≤—ñ–¥–∫–ª—é—á–∏—Ç–∏ —Å—Ç–∞—Ä—Ç `sshd`.

–ü–µ—Ä–µ—Ö–æ–¥–∏–º–æ –¥–æ —Ä–æ–∑–º—ñ—Ç–∫–∏ –¥–∏—Å–∫—É. –û—Å—å —Ç—É—Ç –≤–∞–∂–ª–∏–≤–æ –æ–±—Ä–∞—Ç–∏ –¥–∏—Å–∫, —è–∫–∏–π –±—É–ª–æ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–æ —Ç–∞ –ø—ñ–¥–∫–ª—é—á–µ–Ω–æ —É –ø–æ–ø–µ—Ä–µ–¥–Ω—å–æ–º—É –ø—É–Ω–∫—Ç—ñ:

   Which disk is the root disk ('?' for details) [sd0] sd2

–Ø –Ω–µ –±—É–¥—É —Ä–æ–∑–ø–æ–≤—ñ–¥–∞—Ç–∏ —è–∫ —Å–∞–º–µ —Ä–æ–∑–º—ñ—Ç–∏–≤ —Å–≤—ñ–π –¥–∏—Å–∫, —Å–∫–∞–∂—É –ª–∏—à–µ —Ç–∞–∫: —è–∫—â–æ —É –≤–∞—Å –±—ñ–ª—å—à–µ 120–ì–± —Ç–∞ –≤–∏ –Ω–µ –∑–Ω–∞—î—Ç–µ, —è–∫ –∫—Ä–∞—â–µ —Ä–æ–∑–º—ñ—Ç–∏—Ç–∏ –¥–∏—Å–∫ - –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π —Ä–æ–∑–ø–æ–¥—ñ–ª –≤–∞–º –ø—ñ–¥—ñ–π–¥–µ!

–ü–µ—Ä–µ–≤–∞–Ω—Ç–∞–∂—É—î–º–æ —Å–∏—Å—Ç–µ–º—É —Ç–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î–º–æ OpenBSD

# –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –º–µ—Ä–µ–∂—ñ

–ü—ñ—Å–ª—è –≤—Ö–æ–¥–∏ —è –ø–æ—Ç—Ä–∞–ø–∏–≤ —É –≥—Ä–∞—Ñ—ñ—á–Ω–µ —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ [fvwm][fvwm]:

![fvwm](https://www.gabsoftware.com/wp-content/uploads/2011/04/Capture-12.png)
–Ø –¥–æ —Ü—å–æ–≥–æ –ø–æ–≤–µ—Ä–Ω—É—Å—è –ø—ñ–∑–Ω—ñ—à–µ, –Ω–∞–π–ø–µ—Ä—à–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ –Ω–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ wifi, —â–æ–± –Ω–µ –±—É—Ç–∏ –ø—Ä–∏–≤'—è–∑–∞–Ω–∏–º.

–í—ñ–¥–∫—Ä–∏–≤–∞—î–º–æ [xterm][xterm], –ø–µ—Ä–µ—Ö–æ–¥–∏–º–æ –ø—ñ–¥ root –∑ –∫–æ–º–∞–Ω–¥–æ—é [su][su] —Ç–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î–º–æ –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ –¥—Ä–∞–π–≤–µ—Ä–∞:

    fw_update

–ö–æ–º–∞–Ω–¥–∞ [fw_update][fw_update] –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç—å —Ç–∞ –≤—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ –¥—Ä–∞–π–≤–µ—Ä–∞.

–û–¥–Ω–∞ –∑ –Ω–∞–π–ø—Ä–µ–∫—Ä–∞—Å–Ω—ñ—à–∏—Ö —Ä–µ—á–µ–π –≤ OpenBSD - –±—ñ–ª—å—à—ñ—Å—Ç—å —Ä–µ—á–µ–π —ñ–Ω—Ç–µ–≥—Ä–æ–≤–∞–Ω–∞ —É —Å–∏—Å—Ç–µ–º—É —ñ –Ω–µ–º–∞—î –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ—Å—Ç—ñ –≤—Å—Ç–∞–Ω–æ–≤–ª—é–≤–∞—Ç–∏ –¥–æ–¥–∞—Ç–∫–æ–≤—ñ —É—Ç–∏–ª—ñ—Ç–∏ –¥–ª—è –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –º–µ—Ä–µ–∂—ñ —á–∏ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ WPA2 –º–µ—Ä–µ–∂. –í–º–∏–∫–∞—î–º–æ –º–µ—Ä–µ–∂–∫—É —Ç–∞ —Å–∫–∞–Ω—É—î–º–æ:

    ifconfig iwn0 up
    ifconfig iwn0 scan

–ö–æ–ª–∏ –ø–æ–±–∞—á–∏–≤ —Å–≤–æ—é –º–µ—Ä–µ–∂—É - –ø—Ä–æ—Å—Ç–æ —Å—Ç–≤–æ—Ä—é—é [—Ñ–∞–π–ª —ñ–∑ –Ω–∞–∑–≤–æ—é][hostname.if] –º–µ—Ä–µ–∂–µ–≤–æ–≥–æ –∞–¥–∞–ø—Ç–µ—Ä–∞ –≤–∫—ñ–Ω—Ü—ñ `/etc/hostname.iwn0` —Ç–∞ –ø—Ä–æ–ø–∏—Å—É—é –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è:


    join "YOUR_SSID" wpakey "YOUR_PASSPHRASE"
    # you can specify other networks here too, in order of priority:
    # join "WORK_SSID" wpakey "WORK_PASSPHRASE"
    # join "OPEN_COFFEE_SHOP"
    dhcp
    inet6 autoconf
    up powersave

–û—Å—å —ñ –≤—Å–µ! –¢–µ–ø–µ—Ä –º—ñ–π –Ω–æ—É—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –±—É–¥–µ –ø—ñ–¥–∫–ª—é—á–∞—Ç–∏—Å—è –¥–æ —Ç—ñ—î—ó –º–µ—Ä–µ–∂—ñ, –≤ —è–∫–æ—ó —Å–∏–ª—å–Ω—ñ—à–µ —Å–∏–≥–Ω–∞–ª. –©–æ–± –Ω–µ –ø–µ—Ä–µ–≤–∞–Ω—Ç–∞–∂—É–≤–∞—Ç–∏ —Å–∏—Å—Ç–µ–º—É, –¥–æ—Å—Ç–∞—Ç–Ω—å–æ –ø–µ—Ä–µ–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –ª–∏—à–µ [–º–µ—Ä–µ–∂—É][netstart]:

    ifconfig em0 down
    ifconfig iwn0 down
    pkill dhclient
    sh /etc/netstart

# –ë–∞–∑–æ–≤–µ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

–ù–∞–π–ø–µ—Ä—à–µ, —â–æ —è –∑—Ä–æ–±–∏–≤ - –≤—ñ–¥–∫–ª—é—á–∏–≤ –Ω–∞–±—Ä–∏–¥–ª–∏–≤–µ –≤—ñ–∫–Ω–æ –∑ [xconsole][xconsole]:

    sed -i 's/xconsole/#xconsole/' /etc/X11/xenodm/Xsetup_0
    echo 'xset b off' >> /etc/X11/xenodm/Xsetup_0

–¢–∞–∫–æ–∂, –º–µ–Ω—ñ –Ω–µ –ø–æ–¥–æ–±–∞—î—Ç—å—Å—è `beep` –∑–≤—É–∫ –ª–æ–≥—ñ–Ω—É. –î–ª—è —Ü—å–æ–≥–æ –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ –¥–æ–¥–∞—Ç–∏ —É —Ñ–∞–π–ª `/etc/wsconsctl.conf`:

    keyboard.bell.volume=0

OpenBSD –Ω–µ–º–∞—î `sudo`, –ø—Ä–æ—Ç–µ —î [doas][doas]:

    echo 'permit persist keepenv YOUR_USERNAME' > /etc/doas.conf

–û—Å–∫—ñ–ª—å–∫–∏ —Ü–µ –Ω–æ—É—Ç, —Ç–æ –≤–∞—Ä—Ç—É—î —É–≤—ñ–º–∫–Ω—É—Ç–∏ power manager. –ü—Ä–æ–ø–∏—à—É –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω—É –∞–¥–∞–ø—Ç–∞—Ü—ñ—é CPU, –∞ —Ç–∞–∫–æ–∂, —è–∫—â–æ –∑–∞–ª–∏—à–∞—Ç–∏–º–µ—Ç—å—Å—è 6% - –≤—ñ–¥–ø—Ä–∞–≤–ª—è—Ç–∏ –Ω–æ—É—Ç –≤ “ë—ñ–±–µ—Ä–Ω–∞—Ü—ñ—é:

    rcctl enable apmd
    rcctl set apmd flags -A -Z 6
    rcctl start apmd

–ü–æ—Ç—Ä—ñ–±–Ω–æ –ø–æ–¥—è–∫—É–≤–∞—Ç–∏ —Ä–æ–∑—Ä–æ–±–Ω–∏–∫–∞–º, –æ—Å–∫—ñ–ª—å–∫–∏ –Ω–∞ `ThinkPad` —Å–æ–Ω —Ç–∞ “ë—ñ–±–µ—Ä–Ω–∞—Ü—ñ—è –ø—Ä–æ—Å—Ç–æ –ø—Ä–∞—Ü—é—é—Ç—å. –í–∞–º –Ω—ñ—á–æ–≥–æ –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ –Ω–∞–ª–∞—à—Ç–æ–≤—É–≤–∞—Ç–∏. –Ñ–¥–∏–Ω–∞ —Ä—ñ—á, —â–æ —è –¥–æ–¥–∞—é, —Ü–µ —â–æ–± –ø—ñ—Å–ª—è —Ç–æ–≥–æ, —è–∫ –∑–∞–∫—Ä–∏–≤–∞—é –∫—Ä–∏—à–∫—É –Ω–æ—É—Ç–∞, –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –±–ª–æ–∫—É–≤–∞–≤—Å—è –µ–∫—Ä–∞–Ω. –£ —Ñ–∞–π–ª `/etc/apm/suspend` –¥–æ–¥–∞—é –≤–º—ñ—Å—Ç:

    #!/bin/sh
    pkill -USR1 xidle

–¢–∞ —Ä–æ–±–∏–º–æ executeble:

    chmod +x /etc/apm/suspend

–î–æ–¥–∞—é –≤–ª–∞—Å–Ω–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –≤ –≥—Ä—É–ø—É `staff`:

    usermod -G staff YOUR_USERNAME

–í —Ñ–∞–π–ª—ñ `/etc/login.conf` –ø—Ä–æ–ø–∏—Å—É—é –ø–∞—Ä–∞–º–µ—Ç—Ä–∏:

    staff:\
      :datasize-cur=2048M:\
      :datasize-max=4096M:\
      :maxproc-cur=512:\
      :maxproc-max=1024:\
      :openfiles-cur=4096:\
      :openfiles-max=8192:\
      :stacksize-cur=32M:\
      :ignorenologin:\
      :requirehome@:\
      :tc=default:

–Ü —Ç—Ä—ñ—à–∫–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤ —è–¥—Ä–∞ –∑ –¥–æ–ø–æ–º–æ–≥–æ—é [sysctls][sysctls], —É —Ñ–∞–π–ª—ñ `/etc/sysctl.conf` –ø—Ä–æ–ø–∏—à—É:

    # shared memory limits (chrome needs a ton)
    kern.shminfo.shmall=3145728
    kern.shminfo.shmmax=2147483647
    kern.shminfo.shmmni=1024

    # semaphores
    kern.shminfo.shmseg=1024
    kern.seminfo.semmns=4096
    kern.seminfo.semmni=1024

    kern.maxproc=32768
    kern.maxfiles=65535
    kern.bufcachepercent=90
    kern.maxvnodes=262144
    kern.somaxconn=2048

    # record audio
    kern.audio.record=1

    # refer to xf86(4) for details
    machdep.allowaperture=1

–©–æ–± –ø–æ–¥–æ–≤–∂–∏—Ç–∏ –∂–∏—Ç—Ç—è —Å–≤–æ—î–º—É SSD, –≤–∫–ª—é—á–∞—î–º–æ [softupdates][softupdates] —É —Ñ–∞–π–ª—ñ `/etc/fstab`:

    71bb88c2ddd0128c.b none swap sw
    71bb88c2ddd0128c.a / ffs rw,softdep,noatime 1 1
    71bb88c2ddd0128c.e /home ffs rw,nodev,nosuid,softdep,noatime 1 2
    71bb88c2ddd0128c.d /usr ffs rw,wxallowed,softdep,noatime,nodev 1 2

# –ù–∞–ª–∞—à—Ç–æ–≤—É—é X11

–Ø–∫ —è –ø–∏—Å–∞–≤ —Ä–∞–Ω—ñ—à–µ, –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º OpenBSD –ø—Ä–æ–ø–æ–Ω—É—î `fvwm`. –û—Å–æ–±–∏—Å—Ç–æ –¥–ª—è –º–µ–Ω–µ —Ü–µ —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ –≤–∏—è–≤–∏–ª–æ—Å—è –Ω–µ –∑—Ä—É—á–Ω–∏–º. –ó–≤–∏—á–∞–π–Ω–æ, –±—É–ª–∞ —ñ–¥–µ—è –∑—ñ–±—Ä–∞—Ç–∏ [dwm]({{ site.baseurl }}{% post_url 2019-01-26-suckless-software %}), —è–∫–∏–º —è –∫–æ—Ä–∏—Å—Ç—É—é—Å—å –Ω–∞ `Arch`. –ü—Ä–æ—Ç–µ, —Å–ø—Ä–æ–±—É—é –ø—Ä–∏—Ç—Ä–∏–º—É–≤–∞—Ç–∏—Å—è –æ—Å–Ω–æ–≤–Ω–æ—ó —ñ–¥–µ—ó: –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –±–∞–∑–æ–≤–∏–π —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª. –Ü —Ç—É—Ç —è –¥—ñ–∑–Ω–∞–≤—Å—è –ø—Ä–æ –Ω–∞—è–≤–Ω—ñ—Å—Ç—å [cwm][cwm]. –£ —Ü—ñ–π –Ω–æ—Ç–∞—Ç—Ü—ñ —è –ª–∏—à–µ —Å–∫–∞–∂—É, —â–æ –≤—Å–µ —â–µ –≤–∏–≤—á–∞—é —Ç–∞ –ø–æ—Ä—ñ–≤–Ω—é—é. –ê —â–æ –∑ —Ü—å–æ–≥–æ –≤–∏–π—à–ª–æ - –¥—É–º–∞—é, —â–æ –Ω–∞–ø–∏—à—É –≤–∂–µ —ñ–Ω—à–∏–º —Ä–∞–∑–æ–º.

# –ü—ñ–¥—Å—É–º–æ–∫

–Ø –≤—Å—Ç–∞–Ω–æ–≤–∏–≤ [OpenBSD][OpenBSD] –Ω–∞ —Å–≤–æ—î–º—É `ThinkPad X240`. –ö–æ—Ä–∏—Å—Ç—É–≤–∞—Ç–∏–º—É—Å—å —â–æ–¥–µ–Ω–Ω–æ —ñ –ø–æ–±–∞—á–∏–º–æ, —â–æ –∑ —Ü—å–æ–≥–æ –≤–∏–π–¥–µ.


[OpenBSD]: https://www.openbsd.org/
[softraid]: https://man.openbsd.org/softraid.4
[xenodm]: https://man.openbsd.org/xenodm.1
[fvwm]: https://man.openbsd.org/fvwm
[xterm]: https://man.openbsd.org/xterm.1
[su]: https://man.openbsd.org/su.1
[fw_update]: https://man.openbsd.org/fw_update
[hostname.if]: https://man.openbsd.org/hostname.if.5
[netstart]: https://man.openbsd.org/netstart
[xconsole]: https://man.openbsd.org/xconsole.1
[doas]: https://man.openbsd.org/OpenBSD-6.0/doas.1
[sysctls]: https://man.openbsd.org/sysctl.2
[softupdates]: https://www.openbsd.org/faq/faq14.html#SoftUpdates
[cwm]: https://man.openbsd.org/cwm.1
